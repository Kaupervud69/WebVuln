# Массовое присваивание (Mass Assignment)

> **Атака массового присваивания** — это уязвимость безопасности, которая возникает, когда веб-приложение автоматически присваивает значения, введенные пользователем, свойствам или переменным программного объекта. Это может стать проблемой, если пользователь получает возможность изменять атрибуты, к которым у него не должно быть доступа, такие как права доступа другого пользователя или флаг администратора.

# Методология

Уязвимости массового присваивания наиболее распространены в веб-приложениях, которые используют методы или функции **Object-Relational Mapping (ORM)** для сопоставления пользовательского ввода со свойствами объекта, где свойства могут быть обновлены все сразу, а не по отдельности. 
> Многие популярные фреймворки для веб-разработки, такие как Ruby on Rails, Django и Laravel (PHP), предлагают эту функциональность.

**Например**:

* Веб-приложение, которое использует ORM и имеет объект пользователя со следующими атрибутами: `username`, `email`, `password` и `isAdmin`. 
* В нормальном сценарии пользователь может обновить свое имя пользователя, адрес электронной почты и пароль через форму, которые сервер затем присваивает объекту пользователя.
* Однако злоумышленник может попытаться добавить параметр `isAdmin` во входящие данные следующим образом:

```json
{
    "username": "attacker",
    "email": "attacker@email.com",
    "password": "unsafe_password",
    "isAdmin": true
}
```
Если веб-приложение не проверяет, какие параметры разрешено обновлять таким образом, оно может установить атрибут isAdmin на основе вводимых пользователем данных, предоставив злоумышленнику права администратора.
